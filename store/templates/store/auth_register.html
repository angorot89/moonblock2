{% extends 'store/base.html' %}
{% load moonblock_tags %}

{% block title %}{% if lang == 'ar' %}إنشاء حساب{% elif lang == 'fr' %}Inscription{% else %}Register{% endif %} — MOONBLOCK{% endblock %}

{% block ticker %}{% endblock %}

{% block extra_css %}
<style>
.auth-page{min-height:100vh;padding:140px 24px 80px;display:flex;align-items:flex-start;justify-content:center;}
.auth-card{width:min(520px,100%);background:var(--dim);padding:32px;border:1px solid rgba(200,185,154,.14);}
.auth-title{font-family:'Bebas Neue',sans-serif;font-size:44px;letter-spacing:.04em;margin-bottom:10px;}
.auth-sub{font-size:12px;color:var(--muted);margin-bottom:24px;letter-spacing:.08em;}
.auth-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
.auth-field{margin-bottom:14px;}
.auth-input{width:100%;background:transparent;border:1px solid rgba(200,185,154,.25);color:var(--white);padding:12px 14px;font-size:13px;outline:none;}
.auth-input:focus{border-color:var(--moon);}
.auth-btn{width:100%;padding:14px;border:none;background:var(--moon);color:var(--black);font-family:'DM Mono',monospace;font-size:11px;letter-spacing:.2em;text-transform:uppercase;cursor:none;}
.auth-errors{margin-bottom:14px;color:#ffb0b0;font-size:12px;line-height:1.6;}
.auth-foot{margin-top:18px;font-size:12px;color:var(--muted);}
.auth-foot a{color:var(--moon);text-decoration:none;}
@media(max-width:700px){.auth-grid{grid-template-columns:1fr;}}
</style>
{% endblock %}

{% block content %}
<div class="auth-page" {% if is_rtl %}dir="rtl"{% endif %}>
  <div class="auth-card reveal">
    <h1 class="auth-title">{% if lang == 'ar' %}إنشاء حساب{% elif lang == 'fr' %}Inscription{% else %}Create Account{% endif %}</h1>
    <p class="auth-sub">{% if lang == 'ar' %}أنشئ حسابك أو تابع كضيف{% elif lang == 'fr' %}Creez votre compte ou continuez en invite{% else %}Create your account or continue as guest{% endif %}</p>
    {% if form.errors %}
    <div class="auth-errors">
      {% for field in form %}{% for error in field.errors %}<div>{{ error }}</div>{% endfor %}{% endfor %}
      {% for error in form.non_field_errors %}<div>{{ error }}</div>{% endfor %}
    </div>
    {% endif %}
    <form method="post">
      {% csrf_token %}
      <div class="auth-grid">
        <div class="auth-field">
          <input class="auth-input" name="first_name" type="text" required placeholder="{% if lang == 'ar' %}الاسم{% elif lang == 'fr' %}Prenom{% else %}First Name{% endif %}">
        </div>
        <div class="auth-field">
          <input class="auth-input" name="username" type="text" required placeholder="{% if lang == 'ar' %}اسم المستخدم{% elif lang == 'fr' %}Nom utilisateur{% else %}Username{% endif %}">
        </div>
      </div>
      <div class="auth-field">
        <input class="auth-input" name="email" type="email" placeholder="{% if lang == 'ar' %}البريد الإلكتروني (اختياري){% elif lang == 'fr' %}Email (optionnel){% else %}Email (optional){% endif %}">
      </div>
      <div class="auth-grid">
        <div class="auth-field">
          <input class="auth-input" name="password1" type="password" required placeholder="{% if lang == 'ar' %}كلمة المرور{% elif lang == 'fr' %}Mot de passe{% else %}Password{% endif %}">
        </div>
        <div class="auth-field">
          <input class="auth-input" name="password2" type="password" required placeholder="{% if lang == 'ar' %}تأكيد كلمة المرور{% elif lang == 'fr' %}Confirmation{% else %}Confirm Password{% endif %}">
        </div>
      </div>
      <button type="submit" class="auth-btn">{% if lang == 'ar' %}إنشاء الحساب{% elif lang == 'fr' %}Creer un compte{% else %}Register{% endif %}</button>
    </form>
    <p class="auth-foot">{% if lang == 'ar' %}عندك حساب بالفعل؟{% elif lang == 'fr' %}Vous avez deja un compte?{% else %}Already have an account?{% endif %} <a href="{% url 'login' %}">{% if lang == 'ar' %}سجّل الدخول{% elif lang == 'fr' %}Connectez-vous{% else %}Login{% endif %}</a></p>
    <p class="auth-foot"><a href="{% url 'skip_auth' %}">{% if lang == 'ar' %}تخطي الآن{% elif lang == 'fr' %}Passer pour le moment{% else %}Skip for now{% endif %}</a></p>
  </div>
</div>
{% endblock %}
